import { TemplateRef } from '@angular/core';

export const DEFAULT_TOOLBAR_ICONS = {
    rotateLeft:
        '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 672 672"><path d="M532 336C532 273.6 512.3 225.2 479.5 192.5C446.7 159.8 398.4 140 336 140C290.2 140 252 150.6 222.1 169.1C245 194.1 263.6 219.7 271.2 230.5C277.1 238.9 280 248.7 280 258.5C280 285.8 257.9 308 230.5 308L112 308C81.1 308 56 282.9 56 252L56 133.5C56 106.2 78.1 84 105.5 84C115.3 84 125.1 86.9 133.5 92.8C142.3 99 160.7 112.4 180.7 129.4C222.7 99.5 275.8 84 336 84C410.5 84 474.1 107.8 519.1 152.9C564.1 198 588 261.5 588 336C588 410.5 564.2 474.1 519.1 519.1C474 564.1 410.5 588 336 588C232.8 588 151.3 542.1 111 460.4C104.2 446.5 109.9 429.7 123.7 422.9C137.5 416.1 154.4 421.8 161.2 435.6C190.5 495.1 250.4 532 336 532C398.4 532 446.8 512.3 479.5 479.5C512.2 446.7 532 398.4 532 336zM169.2 194.8C149.6 175.2 126.9 157.4 112 146.4L112 252L217.6 252C206.6 237.1 188.8 214.4 169.2 194.8z"/></svg>',
    rotateRight: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 672 672"><path d="M140 336C140 273.6 159.7 225.2 192.5 192.5C225.3 159.8 273.6 140 336 140C381.8 140 420 150.6 449.9 169.1C427 194.1 408.4 219.7 400.8 230.5C394.9 238.9 392 248.7 392 258.5C392 285.8 414.1 308 441.5 308L560 308C590.9 308 616 282.9 616 252L616 133.5C616 106.2 593.9 84 566.5 84C556.7 84 546.9 86.9 538.5 92.8C529.7 99 511.3 112.4 491.3 129.4C449.3 99.5 396.2 84 336 84C261.5 84 197.9 107.8 152.9 152.9C107.9 198 84 261.5 84 336C84 410.5 107.8 474.1 152.9 519.1C198 564.1 261.5 588 336 588C439.2 588 520.7 542.1 561 460.4C567.8 446.5 562.1 429.7 548.3 422.9C534.5 416.1 517.6 421.8 510.8 435.6C481.5 495.1 421.6 532 336 532C273.6 532 225.2 512.3 192.5 479.5C159.8 446.7 140 398.4 140 336zM502.8 194.8C522.4 175.2 545.1 157.4 560 146.4L560 252L454.4 252C465.4 237.1 483.2 214.4 502.8 194.8z"/></svg>`,
    zoomIn: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 672 672"><path opacity=".4" d="M112 280C112 333.9 129 375.3 156.9 403.1C184.8 430.9 226.1 448 280 448C333.9 448 375.3 431 403.1 403.1C430.9 375.2 448 333.9 448 280C448 226.1 431 184.7 403.1 156.9C375.2 129.1 333.9 112 280 112C226.1 112 184.7 129 156.9 156.9C129.1 184.8 112 226.1 112 280zM182 280C182 264.5 194.5 252 210 252L252 252L252 210C252 194.5 264.5 182 280 182C295.5 182 308 194.5 308 210L308 252L350 252C365.5 252 378 264.5 378 280C378 295.5 365.5 308 350 308L308 308L308 350C308 365.5 295.5 378 280 378C264.5 378 252 365.5 252 350L252 308L210 308C194.5 308 182 295.5 182 280z"/><path d="M308 210C308 194.5 295.5 182 280 182C264.5 182 252 194.5 252 210L252 252L210 252C194.5 252 182 264.5 182 280C182 295.5 194.5 308 210 308L252 308L252 350C252 365.5 264.5 378 280 378C295.5 378 308 365.5 308 350L308 308L350 308C365.5 308 378 295.5 378 280C378 264.5 365.5 252 350 252L308 252L308 210zM117.3 117.3C157.5 77.1 214.1 56 280 56C345.9 56 402.5 77.1 442.7 117.3C482.9 157.5 504 214.1 504 280C504 345.9 482.9 402.5 442.7 442.7C402.5 482.9 345.9 504 280 504C214.1 504 157.5 482.9 117.3 442.7C77.1 402.5 56 345.9 56 280C56 214.1 77.1 157.5 117.3 117.3zM156.9 156.9C129 184.7 112 226.1 112 280C112 333.9 129 375.3 156.9 403.1C184.8 430.9 226.1 448 280 448C333.9 448 375.3 431 403.1 403.1C430.9 375.2 448 333.9 448 280C448 226.1 431 184.7 403.1 156.9C375.2 129.1 333.9 112 280 112C226.1 112 184.7 129 156.9 156.9zM470.2 470.2C481.1 459.3 498.9 459.3 509.8 470.2L607.8 568.2C618.7 579.1 618.7 596.9 607.8 607.8C596.9 618.7 579.1 618.7 568.2 607.8L470.2 509.8C459.3 498.9 459.3 481.1 470.2 470.2z"/></svg>`,
    zoomOut: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 672 672"><path opacity=".4" d="M112 280C112 333.9 129 375.3 156.9 403.1C184.8 430.9 226.1 448 280 448C333.9 448 375.3 431 403.1 403.1C430.9 375.2 448 333.9 448 280C448 226.1 431 184.7 403.1 156.9C375.2 129.1 333.9 112 280 112C226.1 112 184.7 129 156.9 156.9C129.1 184.8 112 226.1 112 280zM182 280C182 264.5 194.5 252 210 252L350 252C365.5 252 378 264.5 378 280C378 295.5 365.5 308 350 308L210 308C194.5 308 182 295.5 182 280z"/><path d="M210 252C194.5 252 182 264.5 182 280C182 295.5 194.5 308 210 308L350 308C365.5 308 378 295.5 378 280C378 264.5 365.5 252 350 252L210 252zM117.3 117.3C157.5 77.1 214.1 56 280 56C345.9 56 402.5 77.1 442.7 117.3C482.9 157.5 504 214.1 504 280C504 345.9 482.9 402.5 442.7 442.7C402.5 482.9 345.9 504 280 504C214.1 504 157.5 482.9 117.3 442.7C77.1 402.5 56 345.9 56 280C56 214.1 77.1 157.5 117.3 117.3zM156.9 156.9C129 184.7 112 226.1 112 280C112 333.9 129 375.3 156.9 403.1C184.8 430.9 226.1 448 280 448C333.9 448 375.3 431 403.1 403.1C430.9 375.2 448 333.9 448 280C448 226.1 431 184.7 403.1 156.9C375.2 129.1 333.9 112 280 112C226.1 112 184.7 129 156.9 156.9zM470.2 470.2C481.1 459.3 498.9 459.3 509.8 470.2L607.8 568.2C618.7 579.1 618.7 596.9 607.8 607.8C596.9 618.7 579.1 618.7 568.2 607.8L470.2 509.8C459.3 498.9 459.3 481.1 470.2 470.2z"/></svg>`,
    crop: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path opacity=".4" d="M192 192L192 414.1L414.1 192L192 192zM225.9 448L448 448L448 225.9L225.9 448z"/><path d="M144 88C144 74.7 154.7 64 168 64C181.3 64 192 74.7 192 88L192 414.1L414.1 192L240 192L240 144L462.1 144L535.1 71C544.5 61.6 559.7 61.6 569 71C578.3 80.4 578.4 95.6 569 104.9L496 177.9L496 448L552 448C565.3 448 576 458.7 576 472C576 485.3 565.3 496 552 496L496 496L496 552C496 565.3 485.3 576 472 576C458.7 576 448 565.3 448 552L448 225.9L225.9 448L400 448L400 496L200 496C169.1 496 144 470.9 144 440L144 192L88 192C74.7 192 64 181.3 64 168C64 154.7 74.7 144 88 144L144 144L144 88z"/></svg>`,
    reset: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M545.7 304.1C528.1 302.9 512.8 316.1 511.5 333.8C508.2 380.8 487.9 423.2 456.7 454.8L425 423C418.1 416.1 407.8 414.1 398.8 417.8C389.8 421.5 384 430.3 384 440L384 552C384 565.3 394.7 576 408 576L520 576C529.7 576 538.5 570.2 542.2 561.2C545.9 552.2 543.9 541.9 537 535L502 500C543.7 457.8 570.9 401.2 575.4 338.2C576.6 320.6 563.4 305.3 545.7 304zM103 105L138 140C96.3 182.2 69.1 238.8 64.6 301.8C63.4 319.4 76.6 334.7 94.3 336C112 337.3 127.2 324 128.5 306.3C131.8 259.3 152.1 216.9 183.3 185.3L215 217C221.9 223.9 232.2 225.9 241.2 222.2C250.2 218.5 256 209.7 256 200L256 88C256 74.7 245.3 64 232 64L120 64C110.3 64 101.5 69.8 97.8 78.8C94.1 87.8 96.2 98.1 103 105zM304 94.3C302.8 111.9 316 127.2 333.7 128.5C380.7 131.8 423.1 152.1 454.7 183.3L423 215C416.1 221.9 414.1 232.2 417.8 241.2C421.5 250.2 430.3 256 440 256L552 256C565.3 256 576 245.3 576 232L576 120C576 110.3 570.2 101.5 561.2 97.8C552.2 94.1 541.9 96.2 535 103L500 138C457.8 96.3 401.2 69.1 338.2 64.6C320.6 63.4 305.3 76.6 304 94.3zM105 537L140 502C182.2 543.7 238.8 570.9 301.8 575.4C319.4 576.6 334.7 563.4 336 545.7C337.3 528 324 512.8 306.3 511.5C259.3 508.2 216.9 487.9 185.3 456.7L217 425C223.9 418.1 225.9 407.8 222.2 398.8C218.5 389.8 209.7 384 200 384L88 384C74.7 384 64 394.7 64 408L64 520C64 529.7 69.8 538.5 78.8 542.2C87.8 545.9 98.1 543.8 105 537z"/></svg>`,
} as const;

export type ToolbarToolType = keyof typeof DEFAULT_TOOLBAR_ICONS;

/**
 * Toolbar configuration with icons and visibility settings
 */
export type ToolbarConfig = {
    show: boolean;
    position: 'top' | 'bottom';
    visibleTools: Set<ToolbarToolType> | ToolbarToolType[];
    icons: Partial<{
        rotateLeft: string | TemplateRef<unknown>;
        rotateRight: string | TemplateRef<unknown>;
        zoomIn: string | TemplateRef<unknown>;
        zoomOut: string | TemplateRef<unknown>;
        crop: string | TemplateRef<unknown>;
        reset: string | TemplateRef<unknown>;
    }>;
    tooltips: Partial<{
        rotateLeft: string;
        rotateRight: string;
        zoomIn: string;
        zoomOut: string;
        crop: string;
        reset: string;
    }>;
};

export const ToolbarConfigInitialState: ToolbarConfig = {
    show: true,
    position: 'top',
    visibleTools: new Set<ToolbarToolType>(Object.keys(DEFAULT_TOOLBAR_ICONS) as ToolbarToolType[]),
    icons: {
        rotateLeft: DEFAULT_TOOLBAR_ICONS.rotateLeft,
        rotateRight: DEFAULT_TOOLBAR_ICONS.rotateRight,
        zoomIn: DEFAULT_TOOLBAR_ICONS.zoomIn,
        zoomOut: DEFAULT_TOOLBAR_ICONS.zoomOut,
        crop: DEFAULT_TOOLBAR_ICONS.crop,
        reset: DEFAULT_TOOLBAR_ICONS.reset,
    },
    tooltips: {
        rotateLeft: 'Rotate Left',
        rotateRight: 'Rotate Right',
        zoomIn: 'Zoom In',
        zoomOut: 'Zoom Out',
        crop: 'Crop',
        reset: 'Reset',
    },
};
